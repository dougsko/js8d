<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - js8d</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <style>
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .config-section {
            background: #2d2d2d;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .config-section h3 {
            color: #4CAF50;
            margin-bottom: 15px;
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }

        .config-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 15px;
            align-items: center;
        }

        .config-grid label {
            font-weight: bold;
            color: #999;
        }

        .config-grid input, .config-grid select {
            background: #333;
            border: 1px solid #555;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
        }

        .config-grid input:focus, .config-grid select:focus {
            outline: none;
            border-color: #2196F3;
        }

        .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .checkbox-wrapper input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .nav-button {
            background: #555;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 4px;
            font-size: 14px;
        }

        .nav-button:hover {
            background: #666;
        }

        .save-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .save-button {
            background: #4CAF50;
            padding: 12px 30px;
            font-size: 16px;
        }

        .save-button:hover {
            background: #45a049;
        }

        .reload-button {
            background: #FF9800;
        }

        .reload-button:hover {
            background: #F57C00;
        }

        .status-message {
            padding: 10px 15px;
            border-radius: 4px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
        }

        .status-success {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid #4CAF50;
            color: #4CAF50;
        }

        .status-error {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid #f44336;
            color: #f44336;
        }

        @media (max-width: 768px) {
            .config-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .nav-buttons {
                flex-direction: column;
            }

            .save-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="settings-container">
        <div class="nav-buttons">
            <a href="/" class="nav-button">‚Üê Back to Main</a>
        </div>

        <header class="header">
            <div class="station-info">
                <h1>js8d Settings</h1>
                <div class="station-details">
                    Configuration Editor
                </div>
            </div>
        </header>

        <div id="status-message"></div>

        <form id="config-form">
            <!-- Station Configuration -->
            <div class="config-section">
                <h3>Station Configuration</h3>
                <div class="config-grid">
                    <label for="station-callsign">Callsign:</label>
                    <input type="text" id="station-callsign" name="station.callsign" required>

                    <label for="station-grid">Grid Square:</label>
                    <input type="text" id="station-grid" name="station.grid" placeholder="FN42">
                </div>
            </div>

            <!-- Audio Configuration -->
            <div class="config-section">
                <h3>Audio Configuration</h3>
                <div class="config-grid">
                    <label for="audio-input">Input Device:</label>
                    <input type="text" id="audio-input" name="audio.input_device" placeholder="default">

                    <label for="audio-output">Output Device:</label>
                    <input type="text" id="audio-output" name="audio.output_device" placeholder="default">

                    <label for="audio-sample-rate">Sample Rate:</label>
                    <select id="audio-sample-rate" name="audio.sample_rate">
                        <option value="44100">44100 Hz</option>
                        <option value="48000">48000 Hz</option>
                        <option value="96000">96000 Hz</option>
                    </select>

                    <label for="audio-buffer-size">Buffer Size:</label>
                    <select id="audio-buffer-size" name="audio.buffer_size">
                        <option value="512">512</option>
                        <option value="1024">1024</option>
                        <option value="2048">2048</option>
                    </select>
                </div>
            </div>

            <!-- Radio Configuration -->
            <div class="config-section">
                <h3>Radio Configuration</h3>
                <div class="config-grid">
                    <label for="radio-device">Serial Device:</label>
                    <input type="text" id="radio-device" name="radio.device" placeholder="/dev/ttyUSB0">

                    <label for="radio-model">Radio Model:</label>
                    <select id="radio-model" name="radio.model">
                        <option value="QDX">QRP Labs QDX/QMX</option>
                        <option value="FT-891">Yaesu FT-891</option>
                        <option value="FT-857D">Yaesu FT-857D</option>
                        <option value="FT-991A">Yaesu FT-991A</option>
                        <option value="IC-7300">Icom IC-7300</option>
                        <option value="IC-705">Icom IC-705</option>
                        <option value="TS-590SG">Kenwood TS-590SG</option>
                    </select>

                    <label for="radio-baud-rate">Baud Rate:</label>
                    <select id="radio-baud-rate" name="radio.baud_rate">
                        <option value="38400">38400</option>
                        <option value="19200">19200</option>
                        <option value="9600">9600</option>
                        <option value="4800">4800</option>
                    </select>

                    <div class="checkbox-wrapper">
                        <label for="radio-use-hamlib">
                            <input type="checkbox" id="radio-use-hamlib" name="radio.use_hamlib">
                            Use Hamlib for radio control (requires hamlib library)
                        </label>
                    </div>
                </div>
            </div>

            <!-- Web Configuration -->
            <div class="config-section">
                <h3>Web Interface</h3>
                <div class="config-grid">
                    <label for="web-port">Port:</label>
                    <input type="number" id="web-port" name="web.port" min="1024" max="65535">

                    <label for="web-bind-address">Bind Address:</label>
                    <input type="text" id="web-bind-address" name="web.bind_address" placeholder="0.0.0.0">
                </div>
            </div>

            <!-- API Configuration -->
            <div class="config-section">
                <h3>API Configuration</h3>
                <div class="config-grid">
                    <label for="api-unix-socket">Unix Socket Path:</label>
                    <input type="text" id="api-unix-socket" name="api.unix_socket" placeholder="/tmp/js8d.sock">
                </div>
            </div>

            <!-- Hardware Configuration -->
            <div class="config-section">
                <h3>Hardware Configuration</h3>
                <div class="config-grid">
                    <label for="hardware-enable-gpio">Enable GPIO:</label>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="hardware-enable-gpio" name="hardware.enable_gpio">
                    </div>

                    <label for="hardware-ptt-gpio-pin">PTT GPIO Pin:</label>
                    <input type="number" id="hardware-ptt-gpio-pin" name="hardware.ptt_gpio_pin" min="1" max="40">

                    <label for="hardware-status-led-pin">Status LED Pin:</label>
                    <input type="number" id="hardware-status-led-pin" name="hardware.status_led_pin" min="1" max="40">

                    <label for="hardware-enable-oled">Enable OLED:</label>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="hardware-enable-oled" name="hardware.enable_oled">
                    </div>

                    <label for="hardware-oled-width">OLED Width:</label>
                    <select id="hardware-oled-width" name="hardware.oled_width">
                        <option value="128">128</option>
                        <option value="64">64</option>
                    </select>

                    <label for="hardware-oled-height">OLED Height:</label>
                    <select id="hardware-oled-height" name="hardware.oled_height">
                        <option value="32">32</option>
                        <option value="64">64</option>
                    </select>
                </div>
            </div>

            <div class="save-buttons">
                <button type="submit" class="save-button">Save Configuration</button>
                <button type="button" id="reload-config" class="reload-button">Reload Daemon</button>
            </div>
        </form>
    </div>

    <script src="/static/js/settings.js"></script>
</body>
</html>